{"ast":null,"code":"// import React, { useEffect, useState } from \"react\";\n// import Navbar from \"./navbar\";\n// import Search from \"./search\";\n// import axios from \"axios\";\n// import { Link } from \"react-router-dom\";\n\n// function Homepage() {\n//   const [movies, setMovies] = useState([]);\n\n//   useEffect(() => {\n//     const token = localStorage.getItem(\"token\");\n\n//     axios\n//       .get(\"http://127.0.0.1:8000/homepage\", {\n//         headers: { Authorization: \"Token \" + token },\n//       })\n//       .then((response) => {\n//         setMovies(response.data);\n//       })\n//       .catch((error) => {\n//         console.error(\"Error fetching movies:\", error);\n//       });\n//   }, []);\n\n//   // ‚úÖ function to add movie to history\n//   const addToHistory = (movieId) => {\n//     console.log(movieId)\n//     const token = localStorage.getItem(\"token\");\n//     if (!token) {\n//       console.error(\"No token found\");\n//       return;\n//     }\n\n//     axios\n//       .post(\n//         \"http://127.0.0.1:8000/gg\", // change this to your history endpoint\n//         { mid: movieId },\n//         { headers: { Authorization: `Token ${token}` } }\n//       )\n//       .then((response) => {\n//         console.log(\"Movie added to history:\", response.data);\n//       })\n//       .catch((error) => {\n//         console.error(\"Error adding to history:\", error);\n//       });\n\n// const addhistory=()=>{\n//   const token=localStorage.getItem(\"token\")\n\n//    axios\n//       .post(\n//         \"http://127.0.0.1:8000/gg\",\n//         {\n//           uid: userid1,\n//           mid: movie.id,\n\n//         },{ headers: { Authorization: `Token ${token}` } }\n//       )\n//       .then((response) => {\n//         setMessage(\"Added to Watch Later ‚úÖ\");\n//       })\n//       .catch((error) => {\n//         console.error(\"Error adding to watch later:\", error);\n//         setMessage(\"Failed to add. Try again ‚ùå\");\n//       });\n\n//   };\n\n//   return (\n//     <>\n//       <Navbar />\n//       <Search />\n\n//       <div className=\"container mt-4\">\n//         <h3>üé¨ Movies</h3>\n\n//         <div className=\"d-flex flex-wrap\">\n//           {movies.length > 0 ? (\n//             movies.map((movie) => (\n//               <div\n//                 key={movie.id}\n//                 className=\"card m-2 shadow-sm\"\n//                 style={{ width: \"180px\" }}\n//               >\n//                 <div\n//                   style={{\n//                     width: \"100%\",\n//                     height: \"220px\",\n//                     overflow: \"hidden\",\n//                     display: \"flex\",\n//                     justifyContent: \"center\",\n//                     alignItems: \"center\",\n//                     background: \"#f5f5f5\",\n//                   }}\n//                 >\n//                   {movie.thumb ? (\n//                     <img\n//                       src={`http://127.0.0.1:8000${movie.thumb}`}\n//                       alt={movie.title}\n//                       className=\"img-fluid\"\n//                     />\n//                   ) : (\n//                     <span>No Image</span>\n//                   )}\n//                 </div>\n\n//                 <div className=\"card-body p-2 text-center\">\n//                   <h6 className=\"card-title text-truncate\">{movie.title}</h6>\n\n//                   {/* ‚úÖ Add to history on click */}\n//                   <Link\n//                     to={`/movie/${movie.id}`}\n//                     onClick={() => addToHistory(movie.id)}\n//                     className=\"btn btn-sm btn-primary mt-2 w-100\"\n//                   >\n//                     View Details\n//                   </Link>\n//                 </div>\n//               </div>\n//             ))\n//           ) : (\n//             <p>No movies available</p>\n//           )}\n//         </div>\n//       </div>\n//     </>\n//   );\n// }\n\n// export default Homepage;","map":{"version":3,"names":[],"sources":["C:/Users/Asus/OneDrive/Desktop/app/project/frontend/ottuser/src/components/homepage.js"],"sourcesContent":["// import React, { useEffect, useState } from \"react\";\r\n// import Navbar from \"./navbar\";\r\n// import Search from \"./search\";\r\n// import axios from \"axios\";\r\n// import { Link } from \"react-router-dom\";\r\n\r\n// function Homepage() {\r\n//   const [movies, setMovies] = useState([]);\r\n\r\n//   useEffect(() => {\r\n//     const token = localStorage.getItem(\"token\");\r\n\r\n//     axios\r\n//       .get(\"http://127.0.0.1:8000/homepage\", {\r\n//         headers: { Authorization: \"Token \" + token },\r\n//       })\r\n//       .then((response) => {\r\n//         setMovies(response.data);\r\n//       })\r\n//       .catch((error) => {\r\n//         console.error(\"Error fetching movies:\", error);\r\n//       });\r\n//   }, []);\r\n\r\n//   // ‚úÖ function to add movie to history\r\n//   const addToHistory = (movieId) => {\r\n//     console.log(movieId)\r\n//     const token = localStorage.getItem(\"token\");\r\n//     if (!token) {\r\n//       console.error(\"No token found\");\r\n//       return;\r\n//     }\r\n\r\n//     axios\r\n//       .post(\r\n//         \"http://127.0.0.1:8000/gg\", // change this to your history endpoint\r\n//         { mid: movieId },\r\n//         { headers: { Authorization: `Token ${token}` } }\r\n//       )\r\n//       .then((response) => {\r\n//         console.log(\"Movie added to history:\", response.data);\r\n//       })\r\n//       .catch((error) => {\r\n//         console.error(\"Error adding to history:\", error);\r\n//       });\r\n\r\n\r\n\r\n// const addhistory=()=>{\r\n//   const token=localStorage.getItem(\"token\")\r\n\r\n\r\n//    axios\r\n//       .post(\r\n//         \"http://127.0.0.1:8000/gg\",\r\n//         {\r\n//           uid: userid1,\r\n//           mid: movie.id,\r\n\r\n//         },{ headers: { Authorization: `Token ${token}` } }\r\n//       )\r\n//       .then((response) => {\r\n//         setMessage(\"Added to Watch Later ‚úÖ\");\r\n//       })\r\n//       .catch((error) => {\r\n//         console.error(\"Error adding to watch later:\", error);\r\n//         setMessage(\"Failed to add. Try again ‚ùå\");\r\n//       });\r\n\r\n\r\n\r\n//   };\r\n\r\n//   return (\r\n//     <>\r\n//       <Navbar />\r\n//       <Search />\r\n\r\n//       <div className=\"container mt-4\">\r\n//         <h3>üé¨ Movies</h3>\r\n\r\n//         <div className=\"d-flex flex-wrap\">\r\n//           {movies.length > 0 ? (\r\n//             movies.map((movie) => (\r\n//               <div\r\n//                 key={movie.id}\r\n//                 className=\"card m-2 shadow-sm\"\r\n//                 style={{ width: \"180px\" }}\r\n//               >\r\n//                 <div\r\n//                   style={{\r\n//                     width: \"100%\",\r\n//                     height: \"220px\",\r\n//                     overflow: \"hidden\",\r\n//                     display: \"flex\",\r\n//                     justifyContent: \"center\",\r\n//                     alignItems: \"center\",\r\n//                     background: \"#f5f5f5\",\r\n//                   }}\r\n//                 >\r\n//                   {movie.thumb ? (\r\n//                     <img\r\n//                       src={`http://127.0.0.1:8000${movie.thumb}`}\r\n//                       alt={movie.title}\r\n//                       className=\"img-fluid\"\r\n//                     />\r\n//                   ) : (\r\n//                     <span>No Image</span>\r\n//                   )}\r\n//                 </div>\r\n\r\n//                 <div className=\"card-body p-2 text-center\">\r\n//                   <h6 className=\"card-title text-truncate\">{movie.title}</h6>\r\n\r\n//                   {/* ‚úÖ Add to history on click */}\r\n//                   <Link\r\n//                     to={`/movie/${movie.id}`}\r\n//                     onClick={() => addToHistory(movie.id)}\r\n//                     className=\"btn btn-sm btn-primary mt-2 w-100\"\r\n//                   >\r\n//                     View Details\r\n//                   </Link>\r\n//                 </div>\r\n//               </div>\r\n//             ))\r\n//           ) : (\r\n//             <p>No movies available</p>\r\n//           )}\r\n//         </div>\r\n//       </div>\r\n//     </>\r\n//   );\r\n// }\r\n\r\n// export default Homepage;\r\n\r\n\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}